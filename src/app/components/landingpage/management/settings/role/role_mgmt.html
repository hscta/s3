<!DOCTYPE html>

<style>
    .icar-new-group {
        border: 1px solid #ccc;
        display:none;
    }
    .icar-new-group.active {
        display:block;
    }
</style>

<span ng-if="vm.currentGroupAsset">Group Name : {{vm.currentGroupAsset.name}}</span>
<br/>
<md-button class="md-accent" ng-show="vm.showBtn" ng-click="vm.showNewRoleField()">
    Create Role
</md-button>
<md-button class="md-accent" ng-if="vm.currentGroupAsset.assignGroup"
           ng-click="vm.assignUsers(vm.currentGroupAsset)">
    Assign User
</md-button>

<md-button class="md-accent" ng-if="vm.currentGroupAsset.assignRole"
           ng-click="vm.assignRoles(vm.currentGroupAsset)">
    Assign Group
</md-button>

<div class="list list-inset icar-new-group" ng-class="{'active':vm.isdiplay}">
<md-content layout="column">
    <md-input-container flex>
        <label>Enter Role Name</label>
        <input type="text" ng-model="vm.newGroupName">
    </md-input-container>

    <md-button class="md-accent" ng-click="vm.createGroup();" flex="66">Create Role</md-button>
</md-content>
</div><br/>

<script type="text/ng-template" id="outside-panel-header.html">
    <div class="md-title">{{myAsset.name}}</div>
    <div class="md-summary"></div>
    <md-expansion-panel-icon></md-expansion-panel-icon>
</script>

<script type="text/ng-template" id="outside-panel-content.html">
    <div class="md-title">{{myAsset.name}}</div>

    <a class="waves-effect waves-light btn ng-isolate-scope"
       ng-if="myAsset.assignPermission"
         ng-click="vm.addPermission(myAsset)">
        Assign Permissions
    </a>
</script>

<multi-list data="groupData"></multi-list>

<md-expansion-panel-group md-component-id="vehicleGroup" flex>

    <md-expansion-panel md-component-id="$index" ng-repeat="myAsset in vm.assets track by $index">

        <md-expansion-panel-collapsed ng-include="'outside-panel-header.html'">
        </md-expansion-panel-collapsed>

        <md-expansion-panel-expanded>
            <md-expansion-panel-header ng-click="$panel.collapse()">
                <div style="display:inherit;width:100%;" ng-include="'outside-panel-header.html'"></div>
            </md-expansion-panel-header>

            <md-expansion-panel-content>
                <div ng-include="'outside-panel-content.html'"></div>
            </md-expansion-panel-content>

            <md-expansion-panel-footer  md-no-sticky="true">
            </md-expansion-panel-footer>
        </md-expansion-panel-expanded>

    </md-expansion-panel>
</md-expansion-panel-group>



