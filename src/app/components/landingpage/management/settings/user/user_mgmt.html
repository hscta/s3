<!DOCTYPE html>

<style>
    .icar-new-group {
        border: 1px solid #ccc;
        display:none;
    }
    .icar-new-group.active {
        display:block;
    }
</style>

<span ng-if="vm.currentGroupAsset">Group Name : {{vm.currentGroupAsset.name}}</span>
<br/>

<md-button class="md-accent" ng-show="vm.showBtn" ng-click="vm.showNewUserField()">
    Create User
</md-button>

<div class="list list-inset icar-new-group" ng-class="{'active':vm.isdiplay}">
    <md-content layout="column"><br/>
        <div class="error" ng-show="vm.errorMsg" style="color:red">{{vm.errorMsg}}</div>
        <md-input-container flex>
            <div layout="row">
                <label>Username</label>
                <input type="text" ng-model="vm.newUser.name"></div>
        </md-input-container>
        <md-input-container flex>
            <div layout="row">
                <label>Password</label>
                <input type="password" ng-model="vm.newUser.password"></div>
        </md-input-container>
        <md-input-container flex>
            <div layout="row">
                <label>Confirm Password</label>
                <input type="password" ng-model="vm.confirmPassword"></div>
        </md-input-container>
        <md-button class="md-accent" ng-click="vm.createUser()" flex="66">Create User</md-button>
    </md-content>
</div><br/>



<script type="text/ng-template" id="outside-panel-header.html">
    <div class="md-title">{{myAsset.name}}</div>
    <div class="md-summary"></div>
    <md-expansion-panel-icon></md-expansion-panel-icon>
</script>

<script type="text/ng-template" id="outside-panel-content.html">
    <div class="md-title">{{myAsset.name}}</div>
    <!--<icar-expanel ng-repeat="item in vm.vehicleinfo track by $index"-->
    <!--details="item" schema="item.schema" layout></icar-expanel>-->
    <div class="waves-effect waves-light btn ng-isolate-scope" ng-if="myAsset.assignGroup"
         ng-click="vm.assignGroups(myAsset)">
        Assign Group
    </div>
    <a class="waves-effect waves-light btn ng-isolate-scope"
       ng-if="myAsset.assignRole"
       ng-click="vm.assignRoles(myAsset)">Assign Role</a>
</script>

<multi-list data="groupData"></multi-list>


<md-expansion-panel-group md-component-id="vehicleGroup" flex>

    <md-expansion-panel md-component-id="$index" ng-repeat="myAsset in vm.assets track by $index">

        <md-expansion-panel-collapsed ng-include="'outside-panel-header.html'">
        </md-expansion-panel-collapsed>

        <md-expansion-panel-expanded>
            <md-expansion-panel-header ng-click="$panel.collapse()">
                <div style="display:inherit;width:100%;" ng-include="'outside-panel-header.html'"></div>
            </md-expansion-panel-header>

            <md-expansion-panel-content>
                <div ng-include="'outside-panel-content.html'"></div>
            </md-expansion-panel-content>

            <md-expansion-panel-footer md-no-sticky="true">
            </md-expansion-panel-footer>
        </md-expansion-panel-expanded>

    </md-expansion-panel>
</md-expansion-panel-group>



