<!DOCTYPE html>

<style>
    md-checkbox {
        margin: 8px;
        cursor: pointer;
        padding-left: 0px;
        padding-right: 0;
        line-height: 4px;
        min-width: 18px;
        min-height: 1px;
    }
    /*md-checkbox .md-icon {width:15px; height:15px;}*/
    md-sidenav{height:100%;}
    md-checkbox span{font-weight:normal;}

    .angular-ui-tree-node, .angular-ui-tree-placeholder{line-height:22px;}

    .hidden {
        display: none!important;
        visibility: hidden!important;
    }

    .search-result {
        font-size:13px;
        font-style:italic;
        font-weight:normal;
    }


</style>


<!-- Template for parent nodes -->
<script type="text/ng-template" id="parent_nodes_renderer.html">
    <div class="icar-wrap-text">
        <a ng-click="toggle(this)" style="cursor:pointer;" ng-show="item.items.length > 0">
            <md-icon md-font-library="material-icons" ng-show="collapsed">arrow_drop_down</md-icon>
            <md-icon md-font-library="material-icons" ng-show="!collapsed">play_arrow</md-icon>
        </a>
        <span style="padding-left:28px;" ng-hide="item.items.length > 0"></span>
        <md-checkbox aria-label="Checkbox 1" ng-checked="'checked'===item.checkStatus"
                     md-indeterminate="'partlyChecked'===item.checkStatus"
                     ng-click="vm.toggleCheck(item)"
                     data-nodrag>
        </md-checkbox>
        <span ng-click="vm.test(item);">{{item.info.name}}</span ><br/>
    </div>
    <ol ui-tree-nodes ng-model="item.items" ng-show="collapsed">
        <li ng-repeat="item in item.items" ui-tree-node
            ng-hide="!treeFilter(item, vm.tree_search_pattern, supportedFields)"
            ng-include="(item.items) ? 'parent_nodes_renderer.html' : 'terminal_node_renderer.html'">  </li>
    </ol>
</script>

<!-- Template for terminal nodes -->
<script type="text/ng-template" id="terminal_node_renderer.html">
    <div class="tree-node tree-node-content">
        <md-checkbox aria-label="chekbox" ng-checked="item.checkStatus === 'checked'"
                     md-indeterminate="item.checkStatus === 'partlyChecked'"
                     ng-click="vm.toggleCheck(item)"
                     data-nodrag>
        </md-checkbox>
        <span>{{item.info.name}}
        </span>
    </div>
</script>

<md-sidenav  class="md-sidenav-left" md-component-id="left"
             md-is-locked-open = "left_nav_toggle" flex>
    <!--The ROot Node-->
    <md-input-container>
        <label>Search</label>
        <input type="text" ng-model="vm.tree_search_pattern" ng-change="vm.expandAll()">
        <span class="search-result" ng-hide="!vm.search_results"> 0 results found</span>
    </md-input-container>

    <div ui-tree id="tree-root" callbacks="treeOptions">
        <ol ui-tree-nodes ng-model="vm.tree_data" ng-class="{hidden: collapsed}">
            <li ng-repeat="item in vm.tree_data" ui-tree-node data-nodrag data-collapsed="collapsed"
                ng-hide="vm.search_results = !treeFilter(item, vm.tree_search_pattern, supportedFields)"
                ng-include="(item.items) ? 'parent_nodes_renderer.html' : 'terminal_node_renderer.html'"></li>
        </ol>
    </div>
</md-sidenav>
