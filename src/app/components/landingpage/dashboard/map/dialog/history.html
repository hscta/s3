<!--<md-tab-body>-->

<style>

    md-toolbar {
        min-height: 20px;
    }

    .map-dialog {
        padding: 0 !important
    }

    .map-dialog-content {
        overflow: hidden;
    }

    .input-fields {
        margin-top: -24px;
    }

    .error-msg {
        color: #f00;
        font-size: 10px;
        min-height: 20px;
    }

    md-toolbar.md-default-theme:not(.md-menu-toolbar), md-toolbar:not(.md-menu-toolbar) {
        background: #d1e934;
    }

    .play-pause-btns {
        background: #d1e934 !important;
    }

    .container-margin{margin-bottom: 0; padding:0; height:31px}

    /*.md-dialog-container {*/
    /*display: flex;*/
    /*justify-content: center;*/
    /*align-items: center;*/
    /*position: absolute;*/
    /*left: 0;*/
    /*top: 0;*/
    /*right: 0;*/
    /*bottom: 0;*/
    /*z-index: $z-index-dialog;*/
    /*}*/

    /*.md-dialog-container{height:100%;}*/
    /*md-dialog{max-width:100%;}*/

    .btn {
        background-color: #d1e934;
        border: none;
        color: white;
        padding: 18px 12px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        /* border-radius: 100%; */
        width: 10px;
        box-shadow: 1px 1px 8px 0px #FFF;
        height: 10px;
    }

    .btn-img {
        background: url('assets/images/play.png') no-repeat;
        width: 13px;
    }

    .btn:hover {
        cursor: pointer;
    }

    .history-dialog .angular-google-map-container {
        height: 554px;
    }

    .md-button{
        margin:6px 1px;
    }

    .md-button.md-fab.md-mini{
        line-height:37px;
        width:34px;
        height:36px;
    }

    .icon-font {
        font-size: 19px;
    }

</style>


<script type="text/ng-template" id="historyInfoWindow.html">
    <div style="width:230px; height:62px; max-width:230px; min-width:230px; overflow:hidden; padding-top:5px;">
        <table>
            <tr>
                <td><strong>Date</strong></td>
                <td>{{parameter.data.gpstime | date : 'dd MMM yyyy - h:mm:ss a'}}</td>
            </tr>
            <tr>
                <td style="padding-right:5px;"><strong>Odometer</strong></td>
                <td>{{parameter.data.odometer}} km</td>
            </tr>
            <tr>
                <td><strong>Speed</strong></td>
                <td>{{parameter.data.speed}} kmph</td>
            </tr>
        </table>
    </div>
</script>

<div style="height: 100%;">
    <span class="error-msg">{{errorMsg}}</span><br/>

    <div layout="row" layout-align="space-around center">
        <div layout="row" class="input-fields" layout-align="space-around center" flex>

            <md-input-container class="container-margin"  ng-show="vm.multiSelect">
                <label>Vehicle No</label>
                <!--<md-select ng-model="vehicle" ng-model-options="{trackBy: '$value.vehicleno'}">-->
                <md-select ng-model="deviceid" ng-change="onVehicleSelect()">

                    <md-option ng-value="vehicle.deviceid"
                               ng-repeat="vehicle in inMarkers | filter:vehicle.visible='true' | orderBy:'vehicleno'">
                        {{vehicle.vehicleno}}
                    </md-option>
                </md-select>
            </md-input-container>

            <md-input-container class="container-margin"  ng-show="!vm.multiSelect">
                <label>Vehicle No</label>
                <input type="text" ng-model="vehicleNumber" ng-readonly="true">
            </md-input-container>

            <md-input-container class="container-margin">
                <label>Start Time</label>
                <input type="text" id="start_time" ng-model="startTime">
            </md-input-container>

            <md-input-container class="container-margin">
                <label>End Time</label>
                <input type="text" id="end_time" ng-model="endTime">
            </md-input-container>
            <md-button class="md-accent" ng-click="getHistory()">Get History</md-button>
        </div>
        <div layout="row" layout-align="end start">
        </div>
    </div>

    <md-dialog-content class="map-dialog-content">
        <div class="md-dialog-content map-dialog history-dialog">
            <ui-gmap-google-map center='historyMap.center' zoom='historyMap.zoom' draggable="true"
                                options="historyMap.mapOptions" bounds="historyMap.bounds"
                                control="historyMap.mapControl">

                <ui-gmap-map-control
                    template="app/components/landingpage/dashboard/map/history-map-control.html"
                    controller="InnerMapController"
                    position="top-right"></ui-gmap-map-control>

                </ui-gmap-map-control>

                <ui-gmap-marker
                    idkey="'self'"
                    coords="clickedMarker"
                    click="clickedMarker.click"
                    options="clickedMarker.options"
                    events="clickedMarker.events"
                    control="clickedMarker.control">
                </ui-gmap-marker>

                <ui-gmap-polyline
                    path="trace.path"
                    stroke="trace.stroke"
                    clickable="trace.clickable"
                    geodesic="trace.geodesic"
                    visible="trace.visible"
                    fit="trace.fit"
                    static="trace.static"
                    events="trace.events"
                    icons="trace.icons">
                </ui-gmap-polyline>

                <ui-gmap-window show="historyInfoWindow.show" coords="historyInfoWindow.coords"
                                control="historyInfoWindow.control"
                                options="historyInfoWindow.options" closeClick="historyInfoWindowClose()"
                                templateUrl="'historyInfoWindow.html'"
                                templateParameter="historyInfoWindow"
                                isIconVisibleOnClick="true">
                </ui-gmap-window>

            </ui-gmap-google-map>
        </div>
        </div>
<!--</md-tab-body>-->

<script>
    $(document).ready(function () {
        $('#start_time').datetimepicker({
            mask: '9999/19/39 29:59',
            format: 'Y-M-d H:i'
        });

        $('#end_time').datetimepicker({
            mask: '9999/19/39 29:59',
            format: 'Y-M-d H:i'
        });
    });
</script>
